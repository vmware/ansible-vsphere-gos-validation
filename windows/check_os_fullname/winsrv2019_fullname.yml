# Copyright 2021 VMware, Inc.
# SPDX-License-Identifier: BSD-2-Clause
---
# Guest ID 'Windows2019srv_64Guest' is introduced in ESXi
# version 7.0.0 and hardware version 17.
#
- block:
    - name: "Set fact of guest fullname for Windows Server 2019 on ESXi >= 7.0.0"
      set_fact:
        expected_guest_fullname: "Microsoft Windows Server 2019 (64-bit)"
    - debug:
        msg: "Expected guest fullname on ESXi '{{ esxi_version }}': {{ expected_guest_fullname }}"
  when:
    - esxi_version is version('7.0.0', '>=')
    - vm_guest_id == "windows2019srv_64Guest"
