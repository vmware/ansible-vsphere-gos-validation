# Copyright 2021 VMware, Inc.
# SPDX-License-Identifier: BSD-2-Clause
---
# VM guest ID 'Windows9_64Guest' is used for 'Windows 11' when
# ESXi <= 7.0.3 and hardware version <= 19.
#
- block:
    - name: "Set fact of guest fullname for Windows 11 on ESXi >= 7.0.3"
      set_fact:
        expected_guest_fullname: "Microsoft Windows 11 (64-bit)"
    - debug:
        msg: "Expected guest fullname for Windows 11 on ESXi '{{ esxi_version }}': {{ expected_guest_fullname }}"
  when:
    - esxi_version is version('7.0.3', '>=')
    - vm_hardware_version_num | int > 19 
    # Will change this when it's available
    # - vm_guest_id == ""
