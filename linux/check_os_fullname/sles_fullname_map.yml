# Copyright 2021-2023 VMware, Inc.
# SPDX-License-Identifier: BSD-2-Clause
---
# Map SLE guest full name when ESXi >= 6.7.0
- name: "Set expected_guest_fullname for SLE {{ guest_os_ansible_distribution_major_ver }} on ESXi {{ esxi_version }}"
  ansible.builtin.set_fact:
    expected_guest_fullname: "SUSE Linux Enterprise {{ guest_os_ansible_distribution_major_ver }} ({{ guest_os_bit }})"
  when: esxi_version is version('6.7.0', '>=')

# Map SLE guest full name when ESXi < 6.7.0
- name: "Set expected_guest_fullname for SLE {{ guest_os_ansible_distribution_major_ver }} on ESXi {{ esxi_version }}"
  ansible.builtin.set_fact:
    expected_guest_fullname: "SUSE Linux Enterprise {{ [guest_os_ansible_distribution_major_ver | int, 12 ] | min }} ({{ guest_os_bit }})"
  when: esxi_version is version('6.7.0', '<')
