<?xml version="1.0"?>
<!DOCTYPE profile>
<profile xmlns="http://www.suse.com/1.0/yast2ns" xmlns:config="http://www.suse.com/1.0/configns">
    <add-on t="map">
        <add_on_others t="list">
            <listentry t="map">
                <alias>repo-backports-update</alias>
                <media_url>cd:/?devices=/dev/sr0</media_url>
                <name>Update repository of openSUSE Backports</name>
                <priority t="integer">99</priority>
                <product_dir>/</product_dir>
            </listentry>
            <listentry t="map">
                <alias>repo-non-oss</alias>
                <media_url>cd:/?devices=/dev/sr0</media_url>
                <name>Non-OSS Repository</name>
                <priority t="integer">99</priority>
                <product_dir/>
            </listentry>
            <listentry t="map">
                <alias>repo-sle-update</alias>
                <media_url>cd:/?devices=/dev/sr0</media_url>
                <name>Update repository with updates from SUSE Linux Enterprise 15</name>
                <priority t="integer">99</priority>
                <product_dir>/</product_dir>
            </listentry>
            <listentry t="map">
                <alias>repo-update-non-oss</alias>
                <media_url>cd:/?devices=/dev/sr0</media_url>
                <name>Update Repository (Non-Oss)</name>
                <priority t="integer">99</priority>
                <product_dir/>
            </listentry>
        </add_on_others>
    </add-on>
    <bootloader t="map">
        <global t="map">
            <append>splash=silent preempt=full mitigations=auto quiet security=apparmor</append>
            <cpu_mitigations>auto</cpu_mitigations>
            <gfxmode>auto</gfxmode>
            <hiddenmenu>false</hiddenmenu>
            <os_prober>true</os_prober>
            <secure_boot>true</secure_boot>
            <terminal>gfxterm</terminal>
            <timeout t="integer">8</timeout>
            <update_nvram>true</update_nvram>
            <xen_kernel_append>vga=gfx-1024x768x16</xen_kernel_append>
        </global>
        {% if firmware is defined and firmware | lower == 'efi' %}
        <loader_type>grub2-efi</loader_type>
        {% else %}
        <loader_type>grub2</loader_type>
        {% endif %}
    </bootloader>
    <firewall t="map">
        <default_zone>public</default_zone>
        <enable_firewall t="boolean">false</enable_firewall>
        <log_denied_packets>off</log_denied_packets>
        <start_firewall t="boolean">false</start_firewall>
        <zones t="list">
            <zone t="map">
                <description>Unsolicited incoming network packets are rejected. Incoming packets that are related to outgoing network connections are accepted. Outgoing network connections are allowed.</description>
                <interfaces t="list"/>
                <masquerade t="boolean">false</masquerade>
                <name>block</name>
                <ports t="list"/>
                <protocols t="list"/>
                <services t="list"/>
                <short>Block</short>
                <target>%%REJECT%%</target>
            </zone>
            <zone t="map">
                <description>For computers in your demilitarized zone that are publicly-accessible with limited access to your internal network. Only selected incoming connections are accepted.</description>
                <interfaces t="list"/>
                <masquerade t="boolean">false</masquerade>
                <name>dmz</name>
                <ports t="list"/>
                <protocols t="list"/>
                <services t="list">
                    <service>ssh</service>
                </services>
                <short>DMZ</short>
                <target>default</target>
            </zone>
            <zone t="map">
                <description>All network connections are accepted.</description>
                <interfaces t="list">
                    <interface>docker0</interface>
                </interfaces>
                <masquerade t="boolean">false</masquerade>
                <name>docker</name>
                <ports t="list"/>
                <protocols t="list"/>
                <services t="list"/>
                <short>docker</short>
                <target>ACCEPT</target>
            </zone>
            <zone t="map">
                <description>Unsolicited incoming network packets are dropped. Incoming packets that are related to outgoing network connections are accepted. Outgoing network connections are allowed.</description>
                <interfaces t="list"/>
                <masquerade t="boolean">false</masquerade>
                <name>drop</name>
                <ports t="list"/>
                <protocols t="list"/>
                <services t="list"/>
                <short>Drop</short>
                <target>DROP</target>
            </zone>
            <zone t="map">
                <description>For use on external networks. You do not trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.</description>
                <interfaces t="list"/>
                <masquerade t="boolean">true</masquerade>
                <name>external</name>
                <ports t="list"/>
                <protocols t="list"/>
                <services t="list">
                    <service>ssh</service>
                </services>
                <short>External</short>
                <target>default</target>
            </zone>
            <zone t="map">
                <description>For use in home areas. You mostly trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.</description>
                <interfaces t="list"/>
                <masquerade t="boolean">false</masquerade>
                <name>home</name>
                <ports t="list"/>
                <protocols t="list"/>
                <services t="list">
                    <service>dhcpv6-client</service>
                    <service>mdns</service>
                    <service>samba-client</service>
                    <service>ssh</service>
                </services>
                <short>Home</short>
                <target>default</target>
            </zone>
            <zone t="map">
                <description>For use on internal networks. You mostly trust the other computers on the networks to not harm your computer. Only selected incoming connections are accepted.</description>
                <interfaces t="list"/>
                <masquerade t="boolean">false</masquerade>
                <name>internal</name>
                <ports t="list"/>
                <protocols t="list"/>
                <services t="list">
                    <service>dhcpv6-client</service>
                    <service>mdns</service>
                    <service>samba-client</service>
                    <service>ssh</service>
                </services>
                <short>Internal</short>
                <target>default</target>
            </zone>
            <zone t="map">
                <description><![CDATA[     This zone is used internally by NetworkManager when activating a     profile that uses connection sharing and doesn't have an explicit     firewall zone set.     Block all traffic to the local machine except ICMP, ICMPv6, DHCP     and DNS. Allow all forwarded traffic.     Note that future package updates may change the definition of the     zone unless you overwrite it with your own definition.   ]]></description>
                <interfaces t="list"/>
                <masquerade t="boolean">false</masquerade>
                <name>nm-shared</name>
                <ports t="list"/>
                <protocols t="list">
                    <listentry>icmp</listentry>
                    <listentry>ipv6-icmp</listentry>
                </protocols>
                <services t="list">
                    <service>dhcp</service>
                    <service>dns</service>
                    <service>ssh</service>
                </services>
                <short>NetworkManager Shared</short>
                <target>ACCEPT</target>
            </zone>
            <zone t="map">
                <description>For use in public areas. You do not trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.</description>
                <interfaces t="list"/>
                <masquerade t="boolean">false</masquerade>
                <name>public</name>
                <ports t="list"/>
                <protocols t="list"/>
                <services t="list">
                    <service>dhcpv6-client</service>
                </services>
                <short>Public</short>
                <target>default</target>
            </zone>
            <zone t="map">
                <description>All network connections are accepted.</description>
                <interfaces t="list"/>
                <masquerade t="boolean">false</masquerade>
                <name>trusted</name>
                <ports t="list"/>
                <protocols t="list"/>
                <services t="list"/>
                <short>Trusted</short>
                <target>ACCEPT</target>
            </zone>
            <zone t="map">
                <description>For use in work areas. You mostly trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.</description>
                <interfaces t="list"/>
                <masquerade t="boolean">false</masquerade>
                <name>work</name>
                <ports t="list"/>
                <protocols t="list"/>
                <services t="list">
                    <service>dhcpv6-client</service>
                    <service>ssh</service>
                </services>
                <short>Work</short>
                <target>default</target>
            </zone>
        </zones>
    </firewall>
    <general t="map">
        <mode t="map">
            <confirm t="boolean">false</confirm>
        </mode>
    </general>
    <groups t="list">
        <group t="map">
            <gid>100</gid>
            <groupname>users</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>493</gid>
            <groupname>utmp</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>494</gid>
            <groupname>kmem</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>463</gid>
            <groupname>nm-openvpn</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>469</gid>
            <groupname>rtkit</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>495</gid>
            <groupname>systemd-timesync</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>482</gid>
            <groupname>mail</groupname>
            <userlist>postfix</userlist>
        </group>
        <group t="map">
            <gid>492</gid>
            <groupname>audio</groupname>
            <userlist>pulse,brltty</userlist>
        </group>
        <group t="map">
            <gid>475</gid>
            <groupname>wheel</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>466</gid>
            <groupname>sshd</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>496</gid>
            <groupname>systemd-network</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>59</gid>
            <groupname>maildrop</groupname>
            <userlist>postfix</userlist>
        </group>
        <group t="map">
            <gid>461</gid>
            <groupname>gdm</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>472</gid>
            <groupname>polkitd</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>487</gid>
            <groupname>lp</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>477</gid>
            <groupname>pulse</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>484</gid>
            <groupname>tape</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>62</gid>
            <groupname>man</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>486</gid>
            <groupname>render</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>468</gid>
            <groupname>scard</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>462</gid>
            <groupname>vnc</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>490</gid>
            <groupname>dialout</groupname>
            <userlist>brltty</userlist>
        </group>
        <group t="map">
            <gid>5</gid>
            <groupname>tty</groupname>
            <userlist>brltty</userlist>
        </group>
        <group t="map">
            <gid>464</gid>
            <groupname>nm-openconnect</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>476</gid>
            <groupname>flatpak</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>489</gid>
            <groupname>disk</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>0</gid>
            <groupname>root</groupname>
            <userlist>brltty</userlist>
        </group>
        <group t="map">
            <gid>491</gid>
            <groupname>cdrom</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>467</gid>
            <groupname>brlapi</groupname>
            <userlist>brltty</userlist>
        </group>
        <group t="map">
            <gid>485</gid>
            <groupname>sgx</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>65534</gid>
            <groupname>nobody</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>481</gid>
            <groupname>chrony</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>478</gid>
            <groupname>pulse-access</groupname>
            <userlist>brltty</userlist>
        </group>
        <group t="map">
            <gid>460</gid>
            <groupname>brltty</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>36</gid>
            <groupname>kvm</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>499</gid>
            <groupname>lock</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>51</gid>
            <groupname>postfix</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>471</gid>
            <groupname>avahi</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>474</gid>
            <groupname>audit</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>1</gid>
            <groupname>bin</groupname>
            <userlist>daemon</userlist>
        </group>
        <group t="map">
            <gid>483</gid>
            <groupname>video</groupname>
            <userlist>gdm</userlist>
        </group>
        <group t="map">
            <gid>479</gid>
            <groupname>srvGeoClue</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>71</gid>
            <groupname>ntadmin</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>480</gid>
            <groupname>tftp</groupname>
            <userlist>dnsmasq</userlist>
        </group>
        <group t="map">
            <gid>470</gid>
            <groupname>dnsmasq</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>15</gid>
            <groupname>shadow</groupname>
            <userlist>vnc</userlist>
        </group>
        <group t="map">
            <gid>2</gid>
            <groupname>daemon</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>465</gid>
            <groupname>colord</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>488</gid>
            <groupname>input</groupname>
            <userlist>brltty</userlist>
        </group>
        <group t="map">
            <gid>473</gid>
            <groupname>nscd</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>498</gid>
            <groupname>messagebus</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>65533</gid>
            <groupname>nogroup</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>42</gid>
            <groupname>trusted</groupname>
            <userlist/>
        </group>
        <group t="map">
            <gid>497</gid>
            <groupname>systemd-journal</groupname>
            <userlist/>
        </group>
        {% if new_user is defined and new_user != 'root' %}
        <group t="map">
            <encrypted t="boolean">true</encrypted>
            <gid>1000</gid>
            <group_password>x</group_password>
            <groupname>{{ new_user }}</groupname>
            <userlist>{{ new_user }}</userlist>
        </group>
        {% endif %}
    </groups>
    <host t="map">
        <hosts t="list">
            <hosts_entry t="map">
                <host_address>127.0.0.1</host_address>
                <names t="list">
                    <name>localhost</name>
                </names>
            </hosts_entry>
            <hosts_entry t="map">
                <host_address>::1</host_address>
                <names t="list">
                    <name>localhost ipv6-localhost ipv6-loopback</name>
                </names>
            </hosts_entry>
            <hosts_entry t="map">
                <host_address>fe00::0</host_address>
                <names t="list">
                    <name>ipv6-localnet</name>
                </names>
            </hosts_entry>
            <hosts_entry t="map">
                <host_address>ff00::0</host_address>
                <names t="list">
                    <name>ipv6-mcastprefix</name>
                </names>
            </hosts_entry>
            <hosts_entry t="map">
                <host_address>ff02::1</host_address>
                <names t="list">
                    <name>ipv6-allnodes</name>
                </names>
            </hosts_entry>
            <hosts_entry t="map">
                <host_address>ff02::2</host_address>
                <names t="list">
                    <name>ipv6-allrouters</name>
                </names>
            </hosts_entry>
            <hosts_entry t="map">
                <host_address>ff02::3</host_address>
                <names t="list">
                    <name>ipv6-allhosts</name>
                </names>
            </hosts_entry>
        </hosts>
    </host>
    {% if new_user is defined and new_user != 'root' %}
    <login_settings t="map">
        <autologin_user>{{ new_user }}</autologin_user>
    </login_settings>
    {% endif %}
    <networking t="map">
        <setup_before_proposal t="boolean">true</setup_before_proposal>
        <start_immediately t="boolean">true</start_immediately>
        <dns t="map">
            <dhcp_hostname t="boolean">true</dhcp_hostname>
            <hostname>localhost</hostname>
            <resolv_conf_policy>auto</resolv_conf_policy>
        </dns>
        <ipv6 t="boolean">true</ipv6>
        <keep_install_network t="boolean">true</keep_install_network>
        <managed t="boolean">true</managed>
        <interfaces t="list">
            <interface t="map">
                <bootproto>dhcp</bootproto>
                <name>eth0</name>
                <startmode>auto</startmode>
            </interface>
        </interfaces>
    </networking>
    <ntp-client t="map">
        <ntp_policy>auto</ntp_policy>
        <ntp_servers t="list"/>
        <ntp_sync>manual</ntp_sync>
    </ntp-client>
    <partitioning t="list">
        <drive t="map">
            <device>/dev/{{ boot_disk_name }}</device>
            <disklabel>gpt</disklabel>
            <enable_snapshots t="boolean">false</enable_snapshots>
            <partitions t="list">
                <partition t="map">
                    <create t="boolean">true</create>
                    <filesystem t="symbol">vfat</filesystem>
                    <format t="boolean">true</format>
                    {% if firmware is defined and firmware | lower == 'efi' %}
                    <fstopt>utf8</fstopt>
                    <mount>/boot/efi</mount>
                    <mountby t="symbol">uuid</mountby>
                    {% endif %}
                    <partition_id t="integer">259</partition_id>
                    <partition_nr t="integer">1</partition_nr>
                    <resize t="boolean">false</resize>
                    <size>536870912</size>
                </partition>
                <partition t="map">
                    <create t="boolean">true</create>
                    <create_subvolumes t="boolean">true</create_subvolumes>
                    <filesystem t="symbol">btrfs</filesystem>
                    <format t="boolean">true</format>
                    <mount>/</mount>
                    <mountby t="symbol">uuid</mountby>
                    <partition_id t="integer">131</partition_id>
                    <partition_nr t="integer">2</partition_nr>
                    <quotas t="boolean">false</quotas>
                    <resize t="boolean">false</resize>
                    <size>42411736576</size>
                    <subvolumes t="list">
                        <subvolume t="map">
                            <copy_on_write t="boolean">false</copy_on_write>
                            <path>var</path>
                        </subvolume>
                        <subvolume t="map">
                            <copy_on_write t="boolean">true</copy_on_write>
                            <path>usr/local</path>
                        </subvolume>
                        <subvolume t="map">
                            <copy_on_write t="boolean">true</copy_on_write>
                            <path>tmp</path>
                        </subvolume>
                        <subvolume t="map">
                            <copy_on_write t="boolean">true</copy_on_write>
                            <path>srv</path>
                        </subvolume>
                        <subvolume t="map">
                            <copy_on_write t="boolean">true</copy_on_write>
                            <path>root</path>
                        </subvolume>
                        <subvolume t="map">
                            <copy_on_write t="boolean">true</copy_on_write>
                            <path>opt</path>
                        </subvolume>
                        <subvolume t="map">
                            <copy_on_write t="boolean">true</copy_on_write>
                            <path>home</path>
                        </subvolume>
                        <subvolume t="map">
                            <copy_on_write t="boolean">true</copy_on_write>
                            <path>boot/grub2/x86_64-efi</path>
                        </subvolume>
                        <subvolume t="map">
                            <copy_on_write t="boolean">true</copy_on_write>
                            <path>boot/grub2/i386-pc</path>
                        </subvolume>
                    </subvolumes>
                    <subvolumes_prefix>@</subvolumes_prefix>
                </partition>
            </partitions>
            <type t="symbol">CT_DISK</type>
            <use>all</use>
        </drive>
    </partitioning>
    <proxy t="map">
        <enabled t="boolean">false</enabled>
    </proxy>
    <services-manager t="map">
        <default_target>graphical</default_target>
        <services t="map">
            <enable t="list">
                <service>ModemManager</service>
                <service>NetworkManager</service>
                <service>NetworkManager-dispatcher</service>
                <service>NetworkManager-wait-online</service>
                <service>YaST2-Firstboot</service>
                <service>YaST2-Second-Stage</service>
                <service>apparmor</service>
                <service>appstream-sync-cache</service>
                <service>auditd</service>
                <service>avahi-daemon</service>
                <service>bluetooth</service>
                <service>klog</service>
                <service>chronyd</service>
                <service>cron</service>
                <service>cups</service>
                <service>display-manager</service>
                <service>haveged</service>
                <service>irqbalance</service>
                <service>issue-generator</service>
                <service>kbdsettings</service>
                <service>lvm2-monitor</service>
                <service>mcelog</service>
                <service>nscd</service>
                <service>postfix</service>
                <service>purge-kernels</service>
                <service>rsyslog</service>
                <service>smartd</service>
                <service>sshd</service>
                <service>systemd-remount-fs</service>
                <service>vgauthd</service>
                <service>vmblock-fuse</service>
                <service>vmtoolsd</service>
            </enable>
            <on_demand t="list">
                <listentry>pcscd</listentry>
            </on_demand>
        </services>
    </services-manager>
    <software t="map">
        <install_recommended t="boolean">true</install_recommended>
        <instsource/>
        <packages t="list">
            <package>shim</package>
            <package>os-prober</package>
            <package>openssh</package>
            <package>openSUSE-release</package>
            <package>numactl</package>
            <package>mokutil</package>
            <package>kexec-tools</package>
            <package>irqbalance</package>
            <package>grub2</package>
            <package>glibc</package>
            <package>e2fsprogs</package>
            <package>dosfstools</package>
            <package>chrony</package>
            <package>btrfsprogs</package>
            <package>autoyast2</package>
            <package>NetworkManager</package>
        </packages>
        <patterns t="list">
            <pattern>apparmor</pattern>
            <pattern>base</pattern>
            <pattern>basesystem</pattern>
            <pattern>documentation</pattern>
            <pattern>enhanced_base</pattern>
            <pattern>fonts</pattern>
            <pattern>fonts_opt</pattern>
            <pattern>gnome</pattern>
            <pattern>gnome_basic</pattern>
            <pattern>gnome_basis</pattern>
            <pattern>gnome_basis_opt</pattern>
            <pattern>gnome_games</pattern>
            <pattern>gnome_imaging</pattern>
            <pattern>gnome_internet</pattern>
            <pattern>gnome_multimedia</pattern>
            <pattern>gnome_office</pattern>
            <pattern>gnome_utilities</pattern>
            <pattern>gnome_x11</pattern>
            <pattern>gnome_yast</pattern>
            <pattern>imaging</pattern>
            <pattern>minimal_base</pattern>
            <pattern>multimedia</pattern>
            <pattern>office</pattern>
            <pattern>sw_management</pattern>
            <pattern>sw_management_gnome</pattern>
            <pattern>x11</pattern>
            <pattern>x11_enhanced</pattern>
            <pattern>x11_yast</pattern>
            <pattern>yast2_basis</pattern>
            <pattern>yast2_desktop</pattern>
        </patterns>
        <products t="list">
            <product>Leap</product>
        </products>
    </software>
    <ssh_import t="map">
        <copy_config t="boolean">false</copy_config>
        <import t="boolean">false</import>
    </ssh_import>
    <timezone t="map">
        <timezone>America/New_York</timezone>
    </timezone>
    <user_defaults t="map">
        <expire/>
        <group>100</group>
        <home>/home</home>
        <inactive>-1</inactive>
        <shell>/bin/bash</shell>
        <umask>022</umask>
    </user_defaults>
    <users t="list">
        {% if new_user is defined and new_user != 'root' %}
        <user t="map">
            <authorized_keys t="list">
                <authorized_key>{{ ssh_public_key }}</authorized_key>
            </authorized_keys>
            <encrypted t="boolean">true</encrypted>
            <fullname/>
            <gid>1000</gid>
            <home>/home/{{ new_user }}</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max>99999</max>
                <min>0</min>
                <warn>7</warn>
            </password_settings>
            <shell>/bin/bash</shell>
            <uid>1001</uid>
            <user_password>{{ vm_password_hash }}</user_password>
            <username>{{ new_user }}</username>
        </user>
        {% endif %}
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>NetworkManager user for OpenConnect</fullname>
            <gid>464</gid>
            <home>/var/lib/nm-openconnect</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>475</uid>
            <user_password>!</user_password>
            <username>nm-openconnect</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>user for rpcbind</fullname>
            <gid>65534</gid>
            <home>/var/lib/empty</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/sbin/nologin</shell>
            <uid>487</uid>
            <user_password>!</user_password>
            <username>rpc</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>Flatpak system helper</fullname>
            <gid>476</gid>
            <home>/</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>488</uid>
            <user_password>!</user_password>
            <username>flatpak</username>
        </user>
        <user t="map">
            <authorized_keys t="list">
                <authorized_key>{{ ssh_public_key }}</authorized_key>
            </authorized_keys>
            <encrypted t="boolean">true</encrypted>
            <fullname>root</fullname>
            <gid>0</gid>
            <home>/root</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/bin/bash</shell>
            <uid>0</uid>
            <user_password>{{ vm_password_hash }}</user_password>
            <username>root</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>Smart Card Reader</fullname>
            <gid>468</gid>
            <home>/run/pcscd</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>479</uid>
            <user_password>!</user_password>
            <username>scard</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>user for VNC</fullname>
            <gid>462</gid>
            <home>/var/lib/empty</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/sbin/nologin</shell>
            <uid>473</uid>
            <user_password>!</user_password>
            <username>vnc</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>Manual pages viewer</fullname>
            <gid>62</gid>
            <home>/var/lib/empty</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>13</uid>
            <user_password>!</user_password>
            <username>man</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>Gnome Display Manager daemon</fullname>
            <gid>461</gid>
            <home>/var/lib/gdm</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>472</uid>
            <user_password>!</user_password>
            <username>gdm</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>User for polkitd</fullname>
            <gid>472</gid>
            <home>/var/lib/polkit</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/sbin/nologin</shell>
            <uid>484</uid>
            <user_password>!</user_password>
            <username>polkitd</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>Printing daemon</fullname>
            <gid>487</gid>
            <home>/var/spool/lpd</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>489</uid>
            <user_password>!</user_password>
            <username>lp</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>PulseAudio daemon</fullname>
            <gid>477</gid>
            <home>/var/lib/pulseaudio</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>490</uid>
            <user_password>!</user_password>
            <username>pulse</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>SSH daemon</fullname>
            <gid>466</gid>
            <home>/var/lib/sshd</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>477</uid>
            <user_password>!</user_password>
            <username>sshd</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>systemd Network Management</fullname>
            <gid>496</gid>
            <home>/</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>496</uid>
            <user_password>!*</user_password>
            <username>systemd-network</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>systemd Time Synchronization</fullname>
            <gid>495</gid>
            <home>/</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>495</uid>
            <user_password>!*</user_password>
            <username>systemd-timesync</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>Mailer daemon</fullname>
            <gid>482</gid>
            <home>/var/spool/clientmqueue</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>494</uid>
            <user_password>!</user_password>
            <username>mail</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>RealtimeKit</fullname>
            <gid>469</gid>
            <home>/proc</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/bin/false</shell>
            <uid>480</uid>
            <user_password>!</user_password>
            <username>rtkit</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>NetworkManager user for OpenVPN</fullname>
            <gid>463</gid>
            <home>/var/lib/openvpn</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>474</uid>
            <user_password>!</user_password>
            <username>nm-openvpn</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>User for D-Bus</fullname>
            <gid>498</gid>
            <home>/run/dbus</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/bin/false</shell>
            <uid>499</uid>
            <user_password>!</user_password>
            <username>messagebus</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>usbmuxd daemon</fullname>
            <gid>65533</gid>
            <home>/var/lib/usbmuxd</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/sbin/nologin</shell>
            <uid>485</uid>
            <user_password>!</user_password>
            <username>usbmux</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>Daemon</fullname>
            <gid>2</gid>
            <home>/sbin</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>2</uid>
            <user_password>!</user_password>
            <username>daemon</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>user for colord</fullname>
            <gid>465</gid>
            <home>/var/lib/colord</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>476</uid>
            <user_password>!</user_password>
            <username>colord</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>User for nscd</fullname>
            <gid>473</gid>
            <home>/run/nscd</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/sbin/nologin</shell>
            <uid>486</uid>
            <user_password>!</user_password>
            <username>nscd</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>User for GeoClue D-Bus service</fullname>
            <gid>479</gid>
            <home>/var/lib/srvGeoClue</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>491</uid>
            <user_password>!</user_password>
            <username>srvGeoClue</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>dnsmasq</fullname>
            <gid>470</gid>
            <home>/var/lib/empty</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>482</uid>
            <user_password>!</user_password>
            <username>dnsmasq</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>TFTP Account</fullname>
            <gid>480</gid>
            <home>/srv/tftpboot</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>492</uid>
            <user_password>!</user_password>
            <username>tftp</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>User for Avahi</fullname>
            <gid>471</gid>
            <home>/run/avahi-daemon</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>483</uid>
            <user_password>!</user_password>
            <username>avahi</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>bin</fullname>
            <gid>1</gid>
            <home>/bin</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>1</uid>
            <user_password>!</user_password>
            <username>bin</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>NFS statd daemon</fullname>
            <gid>65533</gid>
            <home>/var/lib/nfs</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/sbin/nologin</shell>
            <uid>481</uid>
            <user_password>!</user_password>
            <username>statd</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>Postfix Daemon</fullname>
            <gid>51</gid>
            <home>/var/spool/postfix</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>51</uid>
            <user_password>!</user_password>
            <username>postfix</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>Chrony Daemon</fullname>
            <gid>481</gid>
            <home>/var/lib/chrony</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/usr/sbin/nologin</shell>
            <uid>493</uid>
            <user_password>!</user_password>
            <username>chrony</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>user account for the brltty daemon</fullname>
            <gid>100</gid>
            <home>/var/lib/brltty</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/bin/false</shell>
            <uid>478</uid>
            <user_password>!</user_password>
            <username>brltty</username>
        </user>
        <user t="map">
            <encrypted t="boolean">true</encrypted>
            <fullname>nobody</fullname>
            <gid>65534</gid>
            <home>/var/lib/nobody</home>
            <home_btrfs_subvolume t="boolean">false</home_btrfs_subvolume>
            <password_settings t="map">
                <expire/>
                <flag/>
                <inact/>
                <max/>
                <min/>
                <warn/>
            </password_settings>
            <shell>/bin/bash</shell>
            <uid>65534</uid>
            <user_password>!</user_password>
            <username>nobody</username>
        </user>
    </users>
    <scripts t="map">
        <post-scripts t="list">
            <script t="map">
                <filename>post-script.sh</filename>
                <interpreter>shell</interpreter>
                <source><![CDATA[
{% if new_user is defined and new_user != 'root' %}
        echo '{{ new_user }} ALL=(ALL) NOPASSWD:ALL' >/etc/sudoers.d/{{ new_user }}
{% endif %}
        echo '{{ autoinstall_complete_msg }}' >/dev/ttyS0
        ]]>
                </source>
            </script>
        </post-scripts>
    </scripts>
</profile>